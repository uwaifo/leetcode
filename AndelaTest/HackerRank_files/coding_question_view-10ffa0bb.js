(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0/RM":function(e,t,n){},"214P":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"l",function(){return r}),n.d(t,"o",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"p",function(){return g}),n.d(t,"j",function(){return v}),n.d(t,"k",function(){return f}),n.d(t,"q",function(){return C}),n.d(t,"n",function(){return T});var a={className:"ui-btn-line-primary"},o={className:"confirm-button ui-btn-line"},i={TAB_TEST_OUTPUT:"tab_test_output",TAB_TEST_INPUT:"tab_test_input",TAB_NONE:"tab_none"},s={CUSTOM:"custom",ALL:"all"},u=100,r=10,l=["pre","code","samp","kbd"],d="focus",c="blur",p="copy",h="context",m=[p,"cut","paste"],g=3,v={TAB_INDEX:{html:0,css:1,javascript:2},TAB_LIST:["question.design.html","question.design.css","question.design.js"],LANGUAGES:["html","css","javascript"],FILE_EXTENSIONS:{html:"html",css:"css",javascript:"js"}},f=500,C=100,T=3e3},BXv2:function(e,t,n){},KLSP:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l});var a=n("MVZn"),o=n.n(a),i=(n("eM6i"),n("rGqo"),n("yt8O"),n("RW0V"),n("DNiP"),n("ZaSc")),s=n("7fp8"),u={QUESTION_LIST_VIEW:2,QUESTION_VIEW:3,FIRST_TYPE:5,BLUR:7,FOCUS:8,PASTE:9},r={questionId:"qid"};function l(e){var t=[],n=Object(s.b)("logActivity",{attemptId:e});function a(e,a,s){var u={eid:e,inserttime:s?new Date(Date.now()-s):new Date};if(a){var l=function(e){return Object.keys(e).reduce(function(t,n){return r[n]?(t[r[n]]=e[n],t):t},{})}(a);u=o()({},l,u)}Object(i.e)({url:n,data:u,error:function(){t.push(u)}})}return a.getFailedEvents=function(){return t},a}},ayy4:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("lSNA"),o=n.n(a),i=n("eHHv");function s(e,t,n){return Object(i.b)(t,function(t){if(!t)throw new Error(e);return o()({},n,t)})}},dN1q:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var a=n("cDcd"),o=Object(a.createContext)(),i=o.Provider,s=o.Consumer},oRIV:function(e,t,n){},"r+Hz":function(e,t,n){},xnU3:function(e,t,n){},yEi7:function(e,t,n){"use strict";n.r(t);n("f3/d"),n("Tze0"),n("2Spj"),n("CX2u");var a=n("MVZn"),o=n.n(a),i=n("lwsE"),s=n.n(i),u=n("W8MJ"),r=n.n(u),l=n("a1gu"),d=n.n(l),c=n("Nsbk"),p=n.n(c),h=n("PJYZ"),m=n.n(h),g=n("7W2i"),v=n.n(g),f=n("lSNA"),C=n.n(f),T=n("cDcd"),b=n.n(T),S=n("vN+2"),y=n.n(S),I=n("ovno"),E=n("/MKj"),_=n("eHHv"),k=n("MrcO"),O=n("EY3D"),w=n("msTz"),D=n("Wwog"),A=n("xNbf"),R=n("Ojj1"),q=n("VlMD"),j=n("214P");n("xnU3");function P(e,t,n,a){if(!e||!n)return null;var o=Object(R.j)(n);return o.length?{defaultView:a,functionName:t,datatypes:o}:null}var N=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(o))),C()(m()(n),"state",{customInputView:"visual",OutputComponent:A.a,InputComponent:A.a}),C()(m()(n),"getConfig",Object(D.a)(P)),C()(m()(n),"mounted",!1),C()(m()(n),"onInputViewChange",function(e){n.setState({customInputView:e})}),n}return v()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,Object(q.t)().then(function(t){var n=t.default;e.mounted&&e.setState({OutputComponent:n})}),Object(q.c)().then(function(t){var n=t.default;e.mounted&&e.setState({InputComponent:n})})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"renderOutput",value:function(){var e=this.props,t=e.companyName,n=e.enableHiddenTestcaseReveal,a=e.liveStatus,o=e.outputData,i=e.questionType,s=e.t,u=e.useCustomInput,r=e.questionId,l=e.attemptId,d=e.unlockTestCase,c=e.handleRunTestCase,p=this.state.OutputComponent;return b.a.createElement(p,{t:s,questionType:i,isCustomTestcase:u,liveStatus:a,outputData:o,companyName:t,enableHiddenTestcaseReveal:n,questionId:r,attemptId:l,unlockTestCase:d,handleRunTestCase:c})}},{key:"renderInput",value:function(){var e=this.props,t=e.visualInputSupported,n=e.functionParams,a=e.customInput,o=e.functionName,i=e.onInputChange,s=this.state,u=s.InputComponent,r=s.customInputView,l=this.getConfig(t,o,n,r);return b.a.createElement(u,{initialValue:a,config:l,onChange:i,onViewChange:this.onInputViewChange})}},{key:"render",value:function(){var e;switch(this.props.currentTab){case j.b.TAB_TEST_OUTPUT:e=this.renderOutput();break;case j.b.TAB_TEST_INPUT:e=this.renderInput();break;default:return null}return b.a.createElement("div",{className:"d-flex flex-column coding-io-wrapper"},e)}}]),t}(T.Component),L=(n("Z2Ku"),n("L9s1"),n("DzJC")),x=n.n(L),U=n("EcEN"),M=n("TSYQ"),B=n.n(M),K=n("eOGF"),H=(n("fFqH"),n("BXv2"),n("oRIV"),!1),V=500,z=100,W=function(e){function t(e){var n;s()(this,t),n=d()(this,p()(t).call(this,e)),C()(m()(n),"props",void 0),C()(m()(n),"state",void 0),C()(m()(n),"EditorComponent",void 0),C()(m()(n),"editor",void 0),C()(m()(n),"throttledSaveLanguageCode",void 0),C()(m()(n),"updateWindowDimensions",void 0),C()(m()(n),"wrapperRef",void 0),C()(m()(n),"layoutTimeout",void 0),C()(m()(n),"throttledScroll",void 0),C()(m()(n),"mounted",void 0),C()(m()(n),"onLanguageChange",function(e,t){var a=n.props.onLanguageChange,o=n.state.languageOptions;t!==e&&(n.saveLanguageCode(t),a(e,t),n.setState(n.updateLanguageOptions(o,e)),Object(R.n)(R.a.LANG,e))}),C()(m()(n),"onCodeChange",function(){var e=n.state.currentLanguage;(0,n.props.onCodeChange)(),n.throttledSaveLanguageCode(e)}),C()(m()(n),"editorDidMount",function(e){var t=n.props.editorDidMount;n.layoutTimeout=setTimeout(function(){return n.adjustHeight()},V),n.editor=e,n.addEditorEventListeners(),t(e)}),C()(m()(n),"onChangeSettings",function(e,t){(0,n.props.onSettingsChange)(e,t),Object(R.n)(e,t)}),C()(m()(n),"onPaste",function(e){var t=n.props.onPaste;t&&t(n.editor.getModel().getValueInRange(e))}),C()(m()(n),"onKeyDown",function(e){var t=n.props.onKeyDown;t&&t(e)}),C()(m()(n),"onAnalytics",function(e,t){var a=n.props.onAnalytics;if(a){var o=e.event_type,i=e.event_name,s=e.event_value,u=e.integer_event_value,r=e.metadata,l={attribute1:s};"number"==typeof u&&(l.attribute7=u),r&&(l.attribute2=JSON.stringify(r)),t&&(l.eventData=JSON.stringify(t)),a(o,i,l)}});var a=e.editorConfig,o=e.languageTemplate,i=e.scrollThrottleWait,u=Object(K.l)()?600:window.innerHeight-70;return n.state={currentLanguage:"",settings:R.c,languageOptions:n.createLanguageOptions(a.languages,o),editorHeight:u,loaded:!1,wrapperClass:"",modelUri:""},n.mounted=!1,n.EditorComponent={},n.throttledSaveLanguageCode=x()(n.saveLanguageCode.bind(m()(n)),3e3),n.wrapperRef=b.a.createRef(),n.updateWindowDimensions=x()(n.adjustHeight.bind(m()(n)),z),n.throttledScroll=x()(n.handleEditorScroll.bind(m()(n)),i),n}return v()(t,e),r()(t,[{key:"createLanguageOptions",value:function(e,t){return{languages:e,lang_template:o()({},t.code),lang_head_template:o()({},t.head),lang_tail_template:o()({},t.tail)}}},{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.updateWindowDimensions),this.loadModules()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.editorHeight;if(n.loaded&&this.editor&&a!==t.editorHeight){var o=this.editor.getPosition();this.editor.revealPositionInCenterIfOutsideViewport(o)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.throttledScroll.cancel(),this.layoutTimeout&&clearTimeout(this.layoutTimeout),this.throttledSaveLanguageCode.flush(),window.removeEventListener("resize",this.updateWindowDimensions),this.updateWindowDimensions.cancel()}},{key:"loadModules",value:function(){var e=this;Object(R.m)(this.props.assetPath),Object(q.m)().then(function(t){var n=t.withAnalytics,a=t.withSettings,i=t.withStatusBar,s=t.withModes,u=t.KrackJackEditor,r=t.registerAllAvailableLanguages;if(e.mounted){var l=e.state.languageOptions;e.EditorComponent=Object(_.a)(n,a,i,s)(u),H||(r(),H=!0);var d=e.setUpSettings(),c=e.updateLanguageOptions(l),p=e.getCurrentLanguage();e.setState(o()({settings:d},c,{loaded:!0})),Object(R.n)(R.a.LANG,p)}})}},{key:"adjustHeight",value:function(){if(!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this.editor)this.editor.layout();else{var e=this.wrapperRef.current;if(e&&e.parentElement){var t=e.parentElement,n=t.getBoundingClientRect().height,a=e.querySelector(".hr-monaco-editor-statusbar"),o=a?a.getBoundingClientRect().height:0,i=t.querySelector(".coding-question-footer"),s=n-o-(i?i.getBoundingClientRect().height:0);this.setState({editorHeight:s})}}}},{key:"getCode",value:function(){var e=this.state.currentLanguage;return this.getParsedEditorData({code:this.editor?this.editor.getValue():"",language:e})}},{key:"addEditorEventListeners",value:function(){this.editor.onDidScrollChange(this.throttledScroll),this.editor.onDidPaste(this.onPaste),this.editor.onKeyDown(this.onKeyDown)}},{key:"handleEditorScroll",value:function(e){var t=this.state.wrapperClass,n=this.props.toolbarHideScrollThreshold;if(e.scrollTop>=n){if("candidate-site-editor--scrolled"===t)return;this.setState({wrapperClass:"candidate-site-editor--scrolled"})}else{if(""===t)return;this.setState({wrapperClass:""})}}},{key:"getCurrentCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,a=n.submission,o=n.languageTemplate,i=this.getCurrentAutoSaveKey(e),s=Object(R.f)(i),u="";if(t&&a){var r=this.props.languageTemplate,l=r.head[a.language],d=r.tail[a.language];u=Object(R.e)(a.code,l,d)}else u=s||o.code[e];return u}},{key:"getCurrentLanguage",value:function(){var e=this.props,t=e.submission,n=e.editorConfig,a=e.defaultLanguage,o=Object(R.d)(R.a.LANG);return t?t.language:o&&n.languages.includes(o)?o:n.languages.includes(a)?a:n.languages[0]}},{key:"getCurrentAutoSaveKey",value:function(e){var t=this.props.editorConfig.autoSaveNamespace;return t?"".concat(t,"-").concat(e):""}},{key:"saveLanguageCode",value:function(e){if(this.editor){var t=this.editor.getValue(),n=this.getParsedEditorData({code:t,language:e}).code,a=this.getCurrentAutoSaveKey(e);Object(R.l)(a,n)}}},{key:"setUpSettings",value:function(){var e=R.a.THEME,t=R.a.TAB_SIZE,n=R.a.AUTO_COMPLETE,a=R.a.MODE,i=this.state.settings;return o()({},i,{tabSize:Object(R.d)(t),theme:Object(R.d)(e),enableAutoComplete:Object(R.d)(n),mode:Object(R.d)(a)})}},{key:"getParsedEditorData",value:function(e){var t=e.code,n=e.language,a=this.props.languageTemplate,i=a.head[n],s=a.tail[n];return o()({},e,{code:Object(R.e)(t,i,s)})}},{key:"updateLanguageOptions",value:function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a?(t=a,n=this.getCurrentCode(a)):(t=this.getCurrentLanguage(),n=this.getCurrentCode(t,!0)),{languageOptions:e=o()({},e,{lang_template:o()({},e.lang_template,C()({},t,n))}),currentLanguage:t,modelUri:"file:///lsp-".concat(Object(U.v1)())}}},{key:"renderEditor",value:function(){var e=this.props,t=e.options,n=e.editorConfig.showModes,a=e.attemptId,o=this.EditorComponent,i=this.state,s=i.settings,u=s.tabSize,r=s.theme,l=s.enableAutoComplete,d=s.mode,c=i.languageOptions,p=i.currentLanguage,h=i.editorHeight,m=i.modelUri;return b.a.createElement(o,{userId:a,modelUri:m,lspBaseUrl:"hrw.lsp.hackerrank.com",languageSelectClassName:"hr-monaco-editor-wrapper__language-selector",enableAutoComplete:l,mode:d,tabSize:u,theme:r,options:t,languageOptions:c,height:h,defaultLanguage:p,enableHeadTailFolding:!0,onLanguageChange:this.onLanguageChange,onChange:this.onCodeChange,onAnalytics:this.onAnalytics,editorDidMount:this.editorDidMount,onChangeSettings:this.onChangeSettings,showModes:n,showIntellisense:n,loaderComponent:A.a})}},{key:"render",value:function(){var e=this.state,t=e.loaded,n=e.wrapperClass,a=B()("candidate-site-editor hr-monaco-editor-wrapper custom-select ".concat(n),{"candidate-site-editor--loaded":t});return b.a.createElement("div",{className:a,ref:this.wrapperRef},t?b.a.createElement(T.Fragment,null,this.renderEditor()):b.a.createElement("div",{className:"d-flex justify-content-center align-items-center candidate-site-editor__loader"},b.a.createElement(A.a,null)))}}]),t}(T.Component);C()(W,"defaultProps",{submission:null,options:o()({},R.b,{automaticLayout:!1}),defaultLanguage:"cpp",toolbarHideScrollThreshold:50,scrollThrottleWait:100,onCodeChange:y.a,editorDidMount:y.a,onLanguageChange:y.a,onSettingsChange:y.a});var F=W,J=n("H59Z"),G=n("EfbJ"),Z=n("dN1q"),X=n("ayy4"),Q=n("JoEb"),Y=(n("VRzm"),n("ZaSc")),$=n("7fp8");function ee(e){var t=e.attemptId,n=e.questionId,a=e.testCaseIndex,o=e.compileTestId;return new Promise(function(e,i){Object(Y.e)({url:Object($.b)("unlockTestCase",{attemptId:t,questionId:n,action:"reveal_testcase"}),data:{testcase_id:a},success:function(){(function(e){var t=e.attemptId,n=e.questionId,a=e.testCaseIndex,o=e.compileTestId;return Object(Y.c)({url:Object($.b)("unlockTestCase",{attemptId:t,questionId:n,action:"testcase_data"}),data:{testcase_id:a,compile_test_id:o}})})({attemptId:t,questionId:n,testCaseIndex:a,compileTestId:o}).then(function(t){return e(t)}).catch(function(){return i()})},error:function(){i()}})})}var te,ne=n("KLSP"),ae=n("sSFG"),oe=n("bSd7"),ie=n("kV2S"),se=(n("bWfx"),n("e6Ar")),ue=n("OEX3"),re=(n("r+Hz"),te={},C()(te,j.b.TAB_TEST_OUTPUT,{i18nKey:"test_results",handler:"handleTestResultTab"}),C()(te,j.b.TAB_TEST_INPUT,{i18nKey:"custom_input",handler:"handleCustomInputTab"}),te),le=function(e){function t(e){var n;return s()(this,t),n=d()(this,p()(t).call(this,e)),C()(m()(n),"handleTestResultTab",void 0),C()(m()(n),"handleCustomInputTab",void 0),C()(m()(n),"handleTabChange",function(e){(0,n.props.onTabChange)(e)}),C()(m()(n),"handleMenuSelect",function(e){(0,n.props.onInputTypeChange)(e===j.c.CUSTOM)}),n.state={runTooltip:""},n.handleTestResultTab=n.handleTabChange.bind(m()(n),j.b.TAB_TEST_OUTPUT),n.handleCustomInputTab=n.handleTabChange.bind(m()(n),j.b.TAB_TEST_INPUT),n}return v()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this.props.t;this.setState({runTooltip:Object(J.b)()?e("keys.mac.run_code"):e("keys.others.run_code")})}},{key:"renderTabContent",value:function(e){var t=this.props,n=t.activeTab,a=t.t,o=re[e],i=o.i18nKey,s=o.handler,u=n===e;return b.a.createElement("li",{key:e,className:B()("d-flex justify-content-center align-items-center coding-question-footer__tab-item",{active:u}),onClick:this[s],role:"tab","aria-selected":u,onKeyDown:this[s]},a(i))}},{key:"renderTabs",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=j.b.TAB_TEST_OUTPUT,a=j.b.TAB_TEST_INPUT,o=[n];return t&&o.push(a),b.a.createElement("ul",{className:"d-flex coding-question-footer__tab-header"},o.map(function(t){return e.renderTabContent(t)}))}},{key:"renderDropdownItem",value:function(e){var t,n=this.props,a=n.t,o=n.useCustomInput,i=e===j.c.CUSTOM,s=a(i?"custom_input":"all_testcases"),u=i?j.c.CUSTOM:j.c.ALL;return o===i&&(t=b.a.createElement("i",{className:"ui-icon-check"})),b.a.createElement(se.a.Item,{value:u},b.a.createElement("span",null,s),b.a.createElement("span",{className:"coding-question-footer__input-select-item__icon"},t))}},{key:"renderDropdown",value:function(){var e=this.props,t=e.disableRunCode,n=e.useCustomInput,a=b.a.createElement(ue.c,{className:"coding-question-footer__input-select-handle",iconClass:"ui-icon-arrow-down-filled",disabled:t});return b.a.createElement(se.a,{theme:"dark",direction:"up-left",className:"coding-question-footer__input-select",title:a,onSelect:this.handleMenuSelect,selectedValue:n?j.c.CUSTOM:j.c.ALL,disabled:t},this.renderDropdownItem(j.c.CUSTOM),this.renderDropdownItem(j.c.ALL))}},{key:"render",value:function(){var e=this.props,t=e.disableSubmitCode,n=e.disableRunCode,a=e.onSubmitCode,o=e.onRunCode,i=e.submitButtonText,s=e.t,u=e.questionType,r=this.state.runTooltip,l=u===oe.b.DATABASE,d=!l;return b.a.createElement("div",{className:"d-flex coding-question-footer"},b.a.createElement("div",{className:"coding-question-footer__tab-wrapper"},this.renderTabs(d)),b.a.createElement("div",{className:"d-flex justify-content-end"},b.a.createElement(ue.c,{onClick:o,disabled:n,className:"coding-question-footer__run-code","data-balloon":r,"data-balloon-pos":"up"},s(l?"actions.run_query":"actions.run")),!l&&this.renderDropdown(),b.a.createElement(ue.c,{onClick:a,disabled:t},i)))}}]),t}(T.PureComponent);C()(le,"defaultProps",{disableRunCode:!1,disableSubmitCode:!1,useCustomInput:!1,activeTab:j.b.TAB_NONE});var de=le;n("0/RM");n.d(t,"PureCodingQuestion",function(){return ce}),n.d(t,"mapStateToProps",function(){return pe});var ce=function(e){function t(e){var n;s()(this,t),n=d()(this,p()(t).call(this,e)),C()(m()(n),"editorRef",b.a.createRef()),C()(m()(n),"pollingCompileTestTimeoutId",null),C()(m()(n),"firstTypeDone",void 0),C()(m()(n),"keyStrokesCount",void 0),C()(m()(n),"lastPastedText",void 0),C()(m()(n),"keydownTrackTimeoutID",void 0),C()(m()(n),"questionAlreadySeen",void 0),C()(m()(n),"handleForceSubmit",void 0),C()(m()(n),"persistCustomInput",function(){var e=n.props,t=e.attemptId,a=e.questionId,o=n.state.customInput,i=Object(Q.b)(t,a);k.a.set(i,o)}),C()(m()(n),"handleRunCode",function(){var e=n.state,t=e.disableRunCode,a=e.useCustomInput,i=e.customInput;if(!t&&n.editorRef.current){var s=n.editorRef.current.getCode();n.resetOutputData();var u=n.props,r=u.attemptId,l=u.questionId,d=u.t,c=u.questionData,p=a?{customtestcase:!0,custominput:i}:{};(function(e){var t=e.codeData.customtestcase?{}:{allcases:!0};return Object(Y.e)({url:Object($.b)("compileAllTests",e),data:e.codeData,query:t})})({attemptId:r,questionId:l,codeData:o()({},s,p)}).then(function(e){n.setState({liveStatus:Object(R.k)(d("live_status.uploaded"),Object(R.h)(c))}),n.pollingCompileTestTimeoutId=setTimeout(function(){n.startPollingCompileTest(e.model.id)},1e3*ae.i)}).catch(function(e){var t={liveStatus:{},disableRunCode:!1};if(e&&e.message)try{var a=JSON.parse(e.message);t.liveStatus=Object(R.k)(d("live_status.compiler_error",{error:a.error}))}catch(e){t.liveStatus=Object(R.k)(d("live_status.server_error"))}else t.liveStatus=Object(R.k)(d("live_status.upload_error"));n.setState(o()({},t))})}}),C()(m()(n),"changeInputTypeAndRunCode",function(e){var t=n.state.customInput;n.setState({useCustomInput:e&&!!t},n.handleRunCode)}),C()(m()(n),"handleRunTestCase",function(e){var t=n.state.outputData,a=!0;t&&(a=t.isCustomTestcase);var o=n.state.customInput,i=e||o;n.setState({customInput:i,useCustomInput:!a},n.handleRunCode)}),C()(m()(n),"onInput",function(e){n.updateCustomInputValue(e)}),C()(m()(n),"toggleSubmitCode",function(){var e=n.props.t;n.setState({disableSubmitCode:!n.state.disableSubmitCode,submitButtonText:e("actions.submit_continue")})}),C()(m()(n),"handleSubmitCode",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.editorRef.current){var t=n.props,a=t.questionData.type,o=t.questionId,i=t.saveAnswer,s=t.attemptId,u=t.t,r=t.countdownContext.currentTimeLeft;"boolean"!=typeof e&&(e=!1);var l=k.a.get(Object(Q.f)(s,o)),d=r<=ae.o;if(l||d||e)n.setState({disableSubmitCode:!0,submitButtonText:u("actions.redirecting"),showRunAllTestCaseAlertDialog:!1}),i({qid:o,qtype:a,answer:{answer:n.editorRef.current.getCode(),type:a}}).finally(n.toggleSubmitCode);else n.setState({showRunAllTestCaseAlertDialog:!0})}}),C()(m()(n),"onMainSplitSizeChange",function(e,t){t!==n.state.leftPaneShrinked&&n.setState({leftPaneShrinked:t}),n.onPrimarySplitDragEnd()}),C()(m()(n),"onPrimarySplitDragEnd",n.adjustEditorLayout.bind(m()(n),!0)),C()(m()(n),"onCodingAreaSizeChange",n.adjustEditorLayout.bind(m()(n),!1)),C()(m()(n),"switchTab",function(e){var t=n.state.customInput;n.setState({currentTab:e,useCustomInput:!!t,shouldAutoExpand:!0})}),C()(m()(n),"onCodeChange",function(){var e=n.props.markAnswerDirty;n.firstTypeDone&&e(),n.setPingData()}),C()(m()(n),"onLeftPaneVerticalBarClick",function(){n.setState({shouldRightPaneAutoCollapse:!0})}),C()(m()(n),"handleEditorPaste",function(e){if(e!==n.lastPastedText&&(n.lastPastedText=e,!(e.length<=j.m))){var t=n.props,a=t.isSecure,o=t.activityLogger,i=t.questionId;a&&o(ne.a.PASTE,{questionId:i})}}),C()(m()(n),"cancelKeyEvent",function(e){e.preventDefault(),e.stopPropagation()}),C()(m()(n),"handleRunKey",function(e){var t=e.browserEvent,a=t||e;Object(J.c)(a)&&a.keyCode===J.d.enter&&(n.cancelKeyEvent(e),n.handleRunCode())}),C()(m()(n),"handleEditorKeyDown",function(e){n.firstTypeDone=!0,n.incrementKeyStrokes(e),n.handleRunKey(e),n.questionAlreadySeen||n.keydownTrackTimeoutID||(n.keydownTrackTimeoutID=setTimeout(function(){n.keyStrokesCount<j.l?(n.keyStrokesCount=0,n.keydownTrackTimeoutID=null):n.sendFirstTypeEvent()},1e3*ae.l))}),C()(m()(n),"onCloseRunAllTestCasesDialog",function(){n.setState({showRunAllTestCaseAlertDialog:!1})}),C()(m()(n),"trackEditorEvents",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.props.questionId;window.dataLayer.push({event:ie.d.HrMetrics,hrEventType:e,hrEventName:t,hrEventAttrs:o()({},a,{question_id:i})})});var a=e.t,i=e.questionData.firstSampleInput;return n.state={customInput:i?i.trim():"",useCustomInput:!!i,liveStatus:{},currentTab:j.b.TAB_NONE,disableRunCode:!1,disableSubmitCode:!1,submitButtonText:a("actions.submit_code"),leftPaneShrinked:!1,outputData:null,shouldAutoExpand:!1,showRunAllTestCaseAlertDialog:!1,shouldRightPaneAutoCollapse:!1},n.firstTypeDone=!1,n.keyStrokesCount=0,n.lastPastedText="",n.questionAlreadySeen=!1,n.handleForceSubmit=n.handleSubmitCode.bind(m()(n),!0),n}return v()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.attemptId,n=e.questionId,a=Object(Q.d)(t,n);this.questionAlreadySeen=k.a.get(a);var o=Object(Q.b)(t,n),i=k.a.get(o);i&&"string"==typeof i&&this.updateCustomInputValue(i),J.a.bind(["mod","enter"],this.handleRunKey),J.a.bind(["mod","s"],this.cancelKeyEvent),window.addEventListener("beforeunload",this.persistCustomInput)}},{key:"componentWillUnmount",value:function(){this.pollingCompileTestTimeoutId&&clearTimeout(this.pollingCompileTestTimeoutId),J.a.unbind(["mod","enter"],this.handleRunKey),J.a.unbind(["mod","s"],this.cancelKeyEvent),this.keydownTrackTimeoutID&&clearTimeout(this.keydownTrackTimeoutID),this.persistCustomInput(),window.removeEventListener("beforeunload",this.persistCustomInput)}},{key:"getEditorOptions",value:function(){var e=this.props,t=e.attemptId,n=e.questionId;return{languages:e.questionData.languages,autoSaveNamespace:"".concat(t,"-").concat(n),showModes:!0}}},{key:"resetOutputData",value:function(){var e=this.props,t=e.t,n=e.questionData;this.setState({disableRunCode:!0,outputData:null,currentTab:j.b.TAB_TEST_OUTPUT,liveStatus:Object(R.k)(t("live_status.uploading"),Object(R.h)(n)),shouldAutoExpand:!0,showRunAllTestCaseAlertDialog:!1})}},{key:"updateCustomInputValue",value:function(e){this.setState({customInput:e,useCustomInput:!!e})}},{key:"setPingData",value:function(){this.editorRef.current&&(0,this.props.setAnswerToPing)(this.editorRef.current.getCode())}},{key:"startPollingCompileTest",value:function(e,t){var n=this;if(this.pollingCompileTestTimeoutId){var a=this.props,o=a.attemptId,i=a.questionData,s=i.uniqueId,u=i.type,r=a.questionData,l=a.t;t&&this.setState({liveStatus:Object(R.k)(t,Object(R.h)(r),l("live_status.processing"))});var d=this.state.useCustomInput;(function(e){return Object(Y.c)({url:Object($.b)("compileSingleTest",e)})})({attemptId:o,questionId:s,compileTestId:e}).then(function(t){var a=t.model,i=a.status,r=a.status_string;i===oe.i?(n.pollingCompileTestTimeoutId&&clearTimeout(n.pollingCompileTestTimeoutId),n.pollingCompileTestTimeoutId=null,n.setState({liveStatus:{},outputData:Object(R.i)(t.model,l,u,d),disableRunCode:!1}),d||k.a.set(Object(Q.f)(o,s),!0)):n.pollingCompileTestTimeoutId=setTimeout(function(){n.startPollingCompileTest(e,r)},1e3*ae.i)}).catch(function(e){n.restoreRunCodeState(Object(R.k)(l("live_status.server_error"))),console.error(e)})}}},{key:"restoreRunCodeState",value:function(e){this.setState({disableRunCode:!1,outputData:null,liveStatus:e})}},{key:"adjustEditorLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.shouldAutoExpand,a=t.shouldRightPaneAutoCollapse,o={};n&&(o.shouldAutoExpand=!1),a&&(o.shouldRightPaneAutoCollapse=!1),this.setState(o),this.editorRef.current&&this.editorRef.current.adjustHeight(e)}},{key:"incrementKeyStrokes",value:function(e){e.ctrlKey||e.metaKey||this.keyStrokesCount++}},{key:"sendFirstTypeEvent",value:function(){var e=this.props,t=e.attemptId,n=e.questionId,a=e.activityLogger,o=Object(Q.d)(t,n);k.a.get(o)||(k.a.set(o,!0),this.questionAlreadySeen=!0,a(ne.a.FIRST_TYPE,{questionId:n}))}},{key:"renderRunAllTestCaseDialog",value:function(){var e=this.props.t;return b.a.createElement(I.a,{title:e("actions.run_all_test_cases.title"),open:!0,size:"medium",className:"coding-question__submit-alert",cancelText:e("actions.run_all_test_cases.secondary_text"),confirmText:e("actions.run_all_test_cases.primary_text"),onClose:this.onCloseRunAllTestCasesDialog,onConfirm:this.handleRunTestCase,onCancel:this.handleForceSubmit},e("actions.run_all_test_cases.content"))}},{key:"renderEditor",value:function(){var e=this.props,t=e.questionData,n=e.attemptId,a=e.appUtil.assetPath,o=t.solve,i=t.templates,s=this.getEditorOptions();return b.a.createElement(F,{ref:this.editorRef,editorConfig:s,languageTemplate:i,submission:o&&o.answer,onCodeChange:this.onCodeChange,assetPath:a,attemptId:n,onPaste:this.handleEditorPaste,onKeyDown:this.handleEditorKeyDown,onAnalytics:this.trackEditorEvents})}},{key:"renderFooter",value:function(){var e=this.state,t=e.disableRunCode,n=e.disableSubmitCode,a=e.submitButtonText,o=e.currentTab,i=e.useCustomInput,s=this.props,u=s.t,r=s.questionData.type;return b.a.createElement(de,{t:u,disableRunCode:t,disableSubmitCode:n,onSubmitCode:this.handleSubmitCode,onRunCode:this.handleRunCode,submitButtonText:a,onTabChange:this.switchTab,activeTab:o,useCustomInput:i,onInputTypeChange:this.changeInputTypeAndRunCode,questionType:r})}},{key:"renderIOWrapper",value:function(){var e=this.state.currentTab;if(e===j.b.TAB_NONE)return null;var t=this.props,n=t.t,a=t.questionData,o=t.companyName,i=t.enableHiddenTestcaseReveal,s=t.attemptId,u=this.state,r=u.useCustomInput,l=u.customInput,d=u.liveStatus,c=u.outputData,p=a.uniqueId,h=a.type,m=a.functionName,g=a.functionParams,v=a.visualInputSupported;return b.a.createElement("div",{className:"d-flex flex-column coding-question__io-area"},b.a.createElement(N,{t:n,questionType:h,customInput:l,useCustomInput:r,liveStatus:d,currentTab:e,visualInputSupported:v,functionName:m,functionParams:g,outputData:c,companyName:o,enableHiddenTestcaseReveal:i,questionId:p,attemptId:s,onInputChange:this.onInput,unlockTestCase:ee,handleRunTestCase:this.handleRunTestCase}))}},{key:"render",value:function(){var e=this.state,t=e.leftPaneShrinked,n=e.shouldAutoExpand,a=e.showRunAllTestCaseAlertDialog,o=e.shouldRightPaneAutoCollapse,i=this.props,s=i.questionData,u=i.questionNumber,r=i.t,l=s.name,d=s.uniqueId,c=s.question,p=s.type;return b.a.createElement("div",{className:"coding-question"},b.a.createElement(w.b,{percentage:!0,primaryMinSize:3,secondaryInitialSize:p===oe.b.DATABASE?50:70,secondaryMinSize:30,vertical:!1,onSecondaryPaneSizeChange:this.onMainSplitSizeChange,onDragEnd:this.onPrimarySplitDragEnd,shouldAutoCollapse:o},b.a.createElement(O.a,{className:"coding-question__left-pane",questionNumber:u,questionTitle:l,questionStatement:c,questionId:d,shrinked:t,onVerticalBarClick:this.onLeftPaneVerticalBarClick,t:r}),b.a.createElement("div",{className:"d-flex flex-column coding-question__right-pane"},b.a.createElement("div",{className:"d-flex coding-question__editor-area"},b.a.createElement(w.b,{className:"coding-question__solution-split",percentage:!0,primaryMinSize:40,secondaryInitialSize:0,vertical:!0,onSecondaryPaneSizeChange:this.onCodingAreaSizeChange,onDragEnd:this.onCodingAreaSizeChange,shouldAutoExpand:n},b.a.createElement(T.Fragment,null,this.renderEditor(),this.renderFooter()),this.renderIOWrapper())))),a&&this.renderRunAllTestCaseDialog())}}]),t}(T.PureComponent);function pe(e){var t=e.test,n=e.candidate.attempt;return{enableHiddenTestcaseReveal:t.enableHiddenTestcaseReveal,companyName:t.companyName,isSecure:n.isSecure}}C()(ce,"defaultProps",{markAnswerDirty:y.a});t.default=Object(_.a)(Object(E.connect)(pe),G.a,Object(X.a)("Coding Questions can only be used inside TestCountdown scope",Z.a,"countdownContext"))(ce)}}]);
//# sourceMappingURL=https://preview-hrw.hackerrank.com/test/candidate-assets/sourcemaps/coding_question_view-10ffa0bb.js.map